<?xml version="1.0" encoding="UTF-8"?>
<scripts>
    <!-- BASE -->
    <script>
        <name>output</name>
        <source>base/output.py</source>
        <onInit/>
        <scheduler/>
        <dependencies/>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>db-logger</name>
        <source>base/db-logger.py</source>
        <onInit/>
        <scheduler/>
        <dependencies/>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>container</name>
        <source>base/container.py</source>
        <onInit/>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>template-parser</name>
        <source>base/template-parser.py</source>
        <onInit>vars.put('output', TemplateParser().parse())</onInit>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>dictionary-manager</name>
        <source>entities/dictionary.py</source>
        <onInit/>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <!-- LOADERS -->
    <script>
        <name>check-email</name>
        <source>loaders/check-email.py</source>
        <onInit>MailProcessor().checkMailbox()</onInit>
        <scheduler>
            <name>check-email</name>
            <enabled>true</enabled>
            <fireAt>* * * * *</fireAt>
        </scheduler>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
        </dependencies>
        <security>
            <group>incoming-documents-bp</group>
        </security>
    </script>
    
    <script>
        <name>xml-loader</name>
        <source>loaders/xml-loader.py</source>
        <onInit/>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
            <scriptName>dictionary-manager</scriptName>
        </dependencies>
        <security>
            <group>incoming-documents-bp</group>
        </security>
    </script>
    
    <script>
        <name>file-watchdog</name>
        <source>loaders/file-watchdog.py</source>
        <onInit>FileWatchdog().processFiles()</onInit>
        <scheduler>
            <name>file-watchdog</name>
            <enabled>true</enabled>
            <fireAt>* * * * *</fireAt>
        </scheduler>
        <dependencies>
            <scriptName>xml-loader</scriptName>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
        </dependencies>
        <security>
            <group>incoming-documents-bp</group>
        </security>
    </script>
     
    <!-- ENTITIES -->
    
    <script>
        <name>payment-rent</name>
        <source>entities/paymentRent.py</source>
        <onInit/>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    <script>
        <name>close-month</name>
        <source>actions/closer.py</source>
        <onInit>Close().closeMonth()</onInit>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
            <scriptName>dictionary-manager</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    <script>
        <name>address</name>
        <source>entities/address.py</source>
        <onInit/>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>company</name>
        <source>entities/company.py</source>
        <onInit/>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
            <scriptName>address</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>community</name>
        <source>entities/community.py</source>
        <onInit/>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
            <scriptName>company</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>bank</name>
        <source>entities/bank.py</source>
        <onInit/>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
            <scriptName>company</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>account</name>
        <source>entities/account.py</source>
        <onInit/>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
            <scriptName>bank</scriptName>
            <scriptName>dictionary-manager</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>person</name>
        <source>entities/person.py</source>
        <onInit/>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
            <scriptName>address</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>possession</name>
        <source>entities/possession.py</source>
        <onInit/>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
            <scriptName>address</scriptName>
            <scriptName>community</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>bookingPeriod</name>
        <source>entities/bookingPeriod.py</source>
        <onInit/>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>zpk</name>
        <source>entities/zpk.py</source>
        <onInit/>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
            <scriptName>company</scriptName>
            <scriptName>community</scriptName>
            <scriptName>person</scriptName>
            <scriptName>possession</scriptName>
            <scriptName>bookingPeriod</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
          
   <script>
        <name>contractor</name>
        <source>entities/contractor.py</source>
        <onInit/>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
            <scriptName>company</scriptName>
            <scriptName>community</scriptName>
            <scriptName>zpk</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
     
   <script>
        <name>owner</name>
        <source>entities/owner.py</source>
        <onInit/>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
            <scriptName>company</scriptName>
            <scriptName>person</scriptName>
            <scriptName>address</scriptName>
            <scriptName>possession</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>element</name>
        <source>entities/element.py</source>
        <onInit/>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>

    <script>
        <name>chargingQueue</name>
        <source>entities/chargingQueue.py</source>
        <onInit/>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>

    <script>
        <name>charger</name>
        <source>crons/charge.py</source>
        <onInit/>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
            <scriptName>chargingQueue</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>add-to-charging-queue</name>
        <source>entities/chargingQueue.py</source>
        <onInit>ChargingQueueManager().addToQueue()</onInit>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>create-zpk</name>
        <source>entities/zpk.py</source>
        <onInit>ZpkManager().create()</onInit>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
            <scriptName>zpk</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>update-zpks-settings</name>
        <source>entities/zpksSettings.py</source>
        <onInit>ZpksSettings().update()</onInit>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>create-payment-rent</name>
        <source>entities/paymentRent.py</source>
        <onInit>PaymentRentManager().create()</onInit>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>remove-payment-rent</name>
        <source>entities/paymentRent.py</source>
        <onInit>PaymentRentManager().remove()</onInit>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>remove-charging</name>
        <source>entities/paymentRent.py</source>
        <onInit>PaymentRentManager().removeCharging()</onInit>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>create-element</name>
        <source>entities/element.py</source>
        <onInit>ElementManager().create()</onInit>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>update-element</name>
        <source>entities/element.py</source>
        <onInit>ElementManager().update()</onInit>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>remove-element</name>
        <source>entities/element.py</source>
        <onInit>ElementManager().remove()</onInit>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>remove-sub-element</name>
        <source>entities/element.py</source>
        <onInit>ElementManager().removeSubElement()</onInit>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
        
   <script>
        <name>create-owner</name>
        <source>entities/owner.py</source>
        <onInit>OwnerManager().create()</onInit>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
            <scriptName>company</scriptName>
            <scriptName>person</scriptName>
            <scriptName>address</scriptName>
            <scriptName>possession</scriptName>
            <scriptName>zpk</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
        
   <script>
        <name>update-owner</name>
        <source>entities/owner.py</source>
        <onInit>OwnerManager().update()</onInit>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
            <scriptName>company</scriptName>
            <scriptName>person</scriptName>
            <scriptName>address</scriptName>
            <scriptName>possession</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
   <script>
        <name>delete-owner</name>
        <source>entities/owner.py</source>
        <onInit>OwnerManager().delete()</onInit>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
            <scriptName>company</scriptName>
            <scriptName>person</scriptName>
            <scriptName>address</scriptName>
            <scriptName>possession</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>create-contractor</name>
        <source>entities/contractor.py</source>
        <onInit>ContractorManager().create()</onInit>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
            <scriptName>company</scriptName>
            <scriptName>community</scriptName>
            <scriptName>zpk</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>update-contractor</name>
        <source>entities/contractor.py</source>
        <onInit>ContractorManager().update()</onInit>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
            <scriptName>company</scriptName>
            <scriptName>community</scriptName>
            <scriptName>zpk</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>remove-contractor</name>
        <source>entities/contractor.py</source>
        <onInit>ContractorManager().remove()</onInit>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>remove-zpk</name>
        <source>entities/zpk.py</source>
        <onInit>ZpkManager().remove()</onInit>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>create-person</name>
        <source>entities/person.py</source>
        <onInit>PersonManager().create()</onInit>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
            <scriptName>address</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>update-person</name>
        <source>entities/person.py</source>
        <onInit>PersonManager().update()</onInit>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
            <scriptName>address</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>create-company</name>
        <source>entities/company.py</source>
        <onInit>CompanyManager().create()</onInit>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
            <scriptName>address</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>add-possession-to-person</name>
        <source>entities/possession.py</source>
        <onInit>PossessionManager().addPersonOwner()</onInit>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>add-possession-to-company</name>
        <source>entities/possession.py</source>
        <onInit>PossessionManager().addCompanyOwner()</onInit>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>remove-possession-from-person</name>
        <source>entities/possession.py</source>
        <onInit>PossessionManager().removePersonOwner()</onInit>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>remove-possession-from-company</name>
        <source>entities/possession.py</source>
        <onInit>PossessionManager().removeCompanyOwner()</onInit>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>update-company</name>
        <source>entities/company.py</source>
        <onInit>CompanyManager().update()</onInit>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
            <scriptName>address</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>create-community</name>
        <source>entities/community.py</source>
        <onInit>CommunityManager().create()</onInit>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
            <scriptName>company</scriptName>
            <scriptName>zpk</scriptName>
            <scriptName>contractor</scriptName>
            <scriptName>element</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>update-community</name>
        <source>entities/community.py</source>
        <onInit>CommunityManager().update()</onInit>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
            <scriptName>company</scriptName>
            <scriptName>zpk</scriptName>
            <scriptName>element</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>create-zpks-dict</name>
        <source>entities/zpkDictionary.py</source>
        <onInit>ZpkDictionaryManager().create()</onInit>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>update-zpks-dict</name>
        <source>entities/zpkDictionary.py</source>
        <onInit>ZpkDictionaryManager().update()</onInit>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>create-bank</name>
        <source>entities/bank.py</source>
        <onInit>BankManager().create()</onInit>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
            <scriptName>company</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>update-bank</name>
        <source>entities/bank.py</source>
        <onInit>BankManager().update()</onInit>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
            <scriptName>company</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    <script>
        <name>create-account</name>
        <source>entities/account.py</source>
        <onInit>AccountManager().create()</onInit>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
            <scriptName>bank</scriptName>
            <scriptName>zpk</scriptName>
            <scriptName>dictionary-manager</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>update-account</name>
        <source>entities/account.py</source>
        <onInit>AccountManager().update()</onInit>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
            <scriptName>bank</scriptName>
            <scriptName>dictionary-manager</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>create-possession</name>
        <source>entities/possession.py</source>
        <onInit>PossessionManager().create()</onInit>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
            <scriptName>address</scriptName>
            <scriptName>community</scriptName>
            <scriptName>zpk</scriptName>
            <scriptName>element</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>update-possession</name>
        <source>entities/possession.py</source>
        <onInit>PossessionManager().update()</onInit>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
            <scriptName>address</scriptName>
            <scriptName>community</scriptName>
            <scriptName>zpk</scriptName>
            <scriptName>element</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <script>
        <name>remove-possession</name>
        <source>entities/possession.py</source>
        <onInit>PossessionManager().remove()</onInit>
        <scheduler/>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>
    
    <!-- CRONS -->
    <script>                     
        <name>charge-all</name>
        <source>crons/charge.py</source>
        <onInit>ChargeManager().chargeAll()</onInit>
        <scheduler>
            <name>charge-all</name>
            <enabled>true</enabled>
            <fireAt>* * * * *</fireAt>
        </scheduler>
        <dependencies>
            <scriptName>chargingQueue</scriptName>
        </dependencies>
        <security>
            <group>all</group>
        </security>
    </script>

    <script>
        <name>bind-documents-to-payments</name>
        <source>crons/autoPaymentRent.py</source>
        <onInit>CronAutoPaymentRent().processDocuments()</onInit>
        <scheduler>
            <name>bind-documents-to-payments</name>
            <enabled>true</enabled>
            <fireAt>* * * * *</fireAt>
        </scheduler>
        <dependencies>
            <scriptName>db-logger</scriptName>
            <scriptName>container</scriptName>
            <scriptName>dictionary-manager</scriptName>
            <scriptName>account</scriptName>
        </dependencies>
        <security>
            <group>access-sync</group>
        </security>
    </script>
</scripts>
