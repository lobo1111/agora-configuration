<?xml version="1.0" encoding="UTF-8"?> 
<databaseChangeLog 
    xmlns="http://www.liquibase.org/xml/ns/dbchangelog/1.9" 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog/1.9
                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-1.9.xsd"> 
    <changeSet author='tkopacki' id='logger'>
        <sql>
            CREATE TABLE `log` (
                `id` int(11) NOT NULL AUTO_INCREMENT,
                `source` varchar(255) COLLATE utf8_polish_ci NOT NULL,
                `level` varchar(64) COLLATE utf8_polish_ci NOT NULL,
                `message` varchar(1024) COLLATE utf8_polish_ci NOT NULL,
                `timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
                PRIMARY KEY (`id`)
            ) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_polish_ci AUTO_INCREMENT=1 ;
        </sql>
    </changeSet>
    
    <changeSet author='tkopacki' id='logger-add-thread-columns'>
        <sql>
            ALTER TABLE `log` ADD `thread_id` int(11);
            ALTER TABLE `log` ADD `thread_name` varchar(255);
        </sql>
    </changeSet>
</databaseChangeLog>