<project name="Scripting Container - common settings" basedir=".">
    <description>Scripting Container - common settings</description>
    
    <taskdef resource="net/sf/antcontrib/antcontrib.properties"/>
    
    <property name="branch" value="${arg0}"/>
    <property name="appVersion" value="${arg1}"/>    
    
    <property name="appName" value="Container"/>
    <property name="fullAppName" value="${appName}-${appVersion}"/>
  
    <property name="gfPath" value="/opt/glassfish"/>
    <property name="gfAsadminPath" value="${gfPath}/bin/asadmin"/>
    
    <property name="repoDir" value="/opt/sources/container"/>
    <property name="earPath" value="${repoDir}/target/${fullAppName}.jar"/>
    
    
    <target name="init">
        <fail unless="buildType">buidType property not set !</fail>
        <property name="gfPasswordFile" value="${gfPath}/domains/${buildType}/passFile"/>
        <property name="appScriptsWatch" value="${gfPath}/domains/${buildType}/container/watchDir/recompile"/>
        <switch value="${buildType}">
            <case value="devel">
                <property name="gfAdminPort" value="5000"/>
                <property name="gfAdminUser" value="admin"/>
                <property name="sDb" value="db1"/>
                <property name="sDestination" value="destination1"/>
                <property name="dbName" value="agora_dev_erp"/>
            </case>
            <case value="prod">
                <property name="gfAdminPort" value="57862"/>
                <property name="gfAdminUser" value="root"/>
                <property name="sDb" value="db2"/>
                <property name="sDestination" value="destination2"/>
                <property name="dbName" value="agora_erp"/>
            </case>
        </switch>
    </target>
</project>