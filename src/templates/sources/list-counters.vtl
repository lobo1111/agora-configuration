<?xml version="1.0" encoding="UTF-8" standalone="yes" ?> 
<entity name="counters">
    <property name="maxResult" type="Integer">$countRows</property>
    <list name="items">
        #foreach($row in $counters)
        <entity name="counter">
            <property name="id" type="Integer">$row.getId()</property>
            <property name="name" type="String">$!row.getSerialNumber()</property>
            <property name="serialNumber" type="String">$!row.getSerialNumber()</property>
            <property name="type" type="String">$!row.getType().getValue()</property>
            <property name="possession" type="String">$!row.getPossession().getAddress().getFullAddress()</property>
            <property name="mainCounterNo" type="String">$!row.getParent().getSerialNumber()</property>
            <property name="seal" type="String">$!row.getSeal()</property>
            <property name="legalization" type="String">$!row.getLegalization().getValue()</property>
            <property name="installation" type="String">$!row.getFormattedInstallation()</property>
            #if($row.getParent())
            <property name="counterType" type="String">LOCAL</property>
            #else
            <property name="counterType" type="String">MAIN</property>
            #end
        </entity>
        #end
    </list>
</entity>